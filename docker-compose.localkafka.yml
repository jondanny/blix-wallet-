version: "3.2"

services:
  kafka:
    image: moeenz/docker-kafka-kraft:latest
    restart: always
    ports:
      - "9093:9093"
    environment:
      - KRAFT_CONTAINER_HOST_NAME=kafka
      - KRAFT_CREATE_TOPICS=healthcheck,web3.wallet.create,web3.wallet.create.reply,web3.nft.mint,web3.nft.mint.reply,web3.nft.transfer,web3.nft.transfer.reply,web3.nft.burn,web3.nft.burn.reply
      - KRAFT_PARTITIONS_PER_TOPIC=3

  kafka-ui:
    image: provectuslabs/kafka-ui:latest
    container_name: kafka-ui
    ports:
      - "8080:8080"
    restart: always
    links:
      - kafka:kafka
    depends_on:
      - kafka
    environment:
      - KAFKA_CLUSTERS_0_NAME=local
      - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka:9092